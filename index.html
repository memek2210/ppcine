<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Download File</title>
  <style>
    body {
      background-color: #1a1a1a;
      color: white;
      text-align: center;
      font-family: Arial, sans-serif;
      padding: 50px 20px;
    }
    h2 {
      font-size: 1.8em;
    }
    p {
      margin: 10px 0;
      font-size: 1.2em;
    }
    button {
      padding: 15px 30px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      cursor: not-allowed;
      opacity: 0.7;
      width: clamp(150px, 60%, 250px);
      margin: 15px auto;
      display: block;
    }
    #btn1 {
      background-color: green;
      color: white;
    }
    #btn2 {
      background-color: blue;
      color: white;
      display: none;
    }
    .adblock-warning {
      display: none;
      color: red;
      margin-top: 20px;
      font-weight: bold;
    }
    .ad-banner {
      margin-top: 25px;
      display: flex;
      justify-content: center;
    }
  </style>
</head>
<body>

  <h2>Download File Anda</h2>
  <p id="timer1">Tunggu 15 detik...</p>
  <button id="btn1" disabled>Menuju Link</button>

  <p id="timer2" style="display:none;">Tunggu 10 detik lagi...</p>
  <button id="btn2" disabled>Download Sekarang</button>

  <!-- Peringatan hanya muncul jika AdBlock aktif -->
  <div class="adblock-warning" id="adblock-warning">
    Harap nonaktifkan AdBlock untuk melanjutkan!
  </div>

  <!-- Banner Iklan 300x250 -->
  <div class="ad-banner" id="ad-container">
    <script type="text/javascript">
      atOptions = {
        'key' : '815752968be50e066ff682026321e704',
        'format' : 'iframe',
        'height' : 250,
        'width' : 300,
        'params' : {}
      };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/815752968be50e066ff682026321e704/invoke.js"></script>
  </div>

  <!-- Iklan Popunder -->
  <script type='text/javascript' src='//pl26969869.profitableratecpm.com/83/42/81/8342811b53fd76ac11d6fbea25b51698.js'></script>

  <!-- SCRIPT LOGIKA -->
  <script>
    const btn1 = document.getElementById("btn1");
    const btn2 = document.getElementById("btn2");
    const timer1 = document.getElementById("timer1");
    const timer2 = document.getElementById("timer2");

    const finalLink = "https://tujuan-download.com/file.zip"; // Ganti link sesuai kebutuhan

    // Timer Pertama
    let count1 = 15;
    const interval1 = setInterval(() => {
      count1--;
      timer1.textContent = `Tunggu ${count1} detik...`;
      if (count1 <= 0) {
        clearInterval(interval1);
        btn1.disabled = false;
        btn1.style.cursor = "pointer";
        btn1.style.opacity = "1";
      }
    }, 1000);

    btn1.addEventListener("click", () => {
      window.open("about:blank", "_blank"); // Trigger popunder
      timer1.style.display = "none";
      btn1.style.display = "none";

      timer2.style.display = "block";
      btn2.style.display = "block";

      let count2 = 10;
      const interval2 = setInterval(() => {
        count2--;
        timer2.textContent = `Tunggu ${count2} detik lagi...`;
        if (count2 <= 0) {
          clearInterval(interval2);
          btn2.disabled = false;
          btn2.style.cursor = "pointer";
          btn2.style.opacity = "1";
        }
      }, 1000);
    });

    btn2.addEventListener("click", () => {
      window.location.href = finalLink;
    });

    // Deteksi AdBlock berdasarkan kegagalan memuat iklan
    window.addEventListener("load", function () {
      setTimeout(() => {
        const adContainer = document.getElementById("ad-container");
        const adblockWarning = document.getElementById("adblock-warning");

        if (adContainer.offsetHeight === 0 || adContainer.innerHTML.trim().length === 0) {
          adblockWarning.style.display = "block";
          btn1.disabled = true;
          btn1.style.opacity = "0.5";
          btn1.style.cursor = "not-allowed";
        }
      }, 2000);
    });
  </script>
</body>
</html>